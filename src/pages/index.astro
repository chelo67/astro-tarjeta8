---
import Layout from "../layouts/Layout.astro"
---

<Layout title="Jose Perez">		<!-- contenedor-->
 <div class="contenedor">

	<!-- encabezado -->
	 <header>
	  <div class="encabezado" id="header">
  
		<div class="perfil">
  
		  <div class="foto">
			<img src="" alt="foto" id="foto-perfil">
		  </div>
  
		  <div class="nombre">
			<h1 id="nombre"></h1>
			<p id="puesto"></p>
		  </div>
  
		</div>
	  </div>
	</header>
	
	 <!-- Contacto -->
	<section class="contacto">
	  <div class="redes">
		<div class="phone" id="color_boton">
		  <a href="" id="link_phone">
			<i class="fa-solid fa-phone fa-2x"></i>
		  </a> 
		</div>
		<div class="email" id="color_boton1">
		  <a href="">
			<i class="fa-solid fa-envelope fa-2x"></i>
		  </a>
		</div>
		<div class="web" id="color_boton2">
		  <a href="">
			<i class="fa-solid fa-globe fa-2x"></i>
		  </a>
		</div>
	  </div>  
	</section>
	
	<!-- informacion -->
	<section class="informacion">
	  <div class="info"><i class="fa-solid fa-phone fa-2x"></i><p id="phone"></p></div>
	  <div class="info"><i class="fa-solid fa-envelope fa-2x"></i><p id="email"></p></div>
	  <div class="info"><i class="fa-solid fa-globe fa-2x"></i><p id="web"></p></div>
	</section>
  
	<!-- Redes sociales -->
	 <section class="title-redes">
	  Sigueme
	 </section>
  
	 <section class="redes_sociales">
	  <div class="icon_redes"><a href="https://www.facebook.com/"><i class="fa-brands fa-facebook fa-2x"></i></a></div>
	  <div class="icon_redes"><a href="https://www.instagram.com/"><i class="fa-brands fa-square-instagram fa-2x"></i></a></div>
	  <div class="icon_redes"><a href="https://www.youtube.com/"><i class="fa-brands fa-youtube fa-2x"></i></a></div>
	  <div class="icon_redes"><a href="https://www.linkedin.com/"><i class="fa-brands fa-linkedin fa-2x"></i></a></div>
	 </section>
  
	<!--boton compartir ------------------------------->
	<section class="botones">
	  <div>
		<i class="fa-solid fa-share-nodes"></i>
		<a href="#" class="boton_compartir">compartir esta tarjeta</a>
	  </div>
	  
	  <div>
		<a href="https://drive.google.com/file/d/1UGj2wB6M4ZWWjBLPaFMFhDNLt9SCmHj4/view?usp=sharing" class="boton_guardar">
		  <i class="fa-solid fa-download"></i>
		  Guardar contacto
		</a>
	  </div>
	  
	</section>
  
	<script src="https://kit.fontawesome.com/dbb4fa1064.js" crossorigin="anonymous" is:inline></script>

  <script>
    async function fetchData() {
      const apiURL = 'https://comforting-teira-734753.instawp.xyz//wp-json/wp/v2/tarjeta?author=3&acf_format=standard';
      
      try {
        const response = await fetch(apiURL);
        const tarjetas = await response.json();
        const tarjeta = tarjetas[0]; // Suponiendo que solo hay un objeto que contiene los datos necesarios
        
  
        // Actualizar la imagen de fondo del encabezado
        const headerElement = document.getElementById('header');
        headerElement.style.backgroundImage = `url(${tarjeta.acf.imagen_top})`;
  
        // Actualizar la foto de perfil
        const fotoPerfilElement = document.getElementById('foto-perfil') as HTMLImageElement;;
        fotoPerfilElement.src = tarjeta.acf.foto;
  
        // Actualizar el nombre
        const nombreElement = document.getElementById('nombre');
        nombreElement.textContent = tarjeta.acf.nombre;
  
        // Actualizar el puesto
        const puestoElement = document.getElementById('puesto');
        puestoElement.textContent = tarjeta.acf.puesto;
  
        // Actualizar color de los botones de contacto
       

        const phoneElement = document.getElementById('phone');
        phoneElement.textContent = tarjeta.acf.telefono;

        const emailElement = document.getElementById('email');
        emailElement.textContent = tarjeta.acf.enlace_email;

        const webElement = document.getElementById('web');
        webElement.textContent = tarjeta.acf.enlace_email;

  
      } catch (error) {
        console.error('Error al obtener los datos:', error);
      }
    }
  
    fetchData();
  
    // Opcional: Recargar los datos cada cierto tiempo
    setInterval(fetchData, 60000); // Recarga los datos cada 60 segundos
  
  </script>

</Layout>

<style >
      
    /* estilos generales */
   * {
       margin: 0;
       padding: 0;
   }
   body {
       height: 100vh;
       display: flex;
       justify-content: start;
       align-items: center;
       flex-direction: column;
   }
   /* contenedor */
   .contenedor {
       width: 100%;
       max-width: 1100px;
       height: 100%;
       display: flex;
       flex-direction: column;
       align-items: center;
       
   }
   /* encabezado */
   header {
       width: 96%;
       max-width: 1000px;
       height: 180px;
       display: flex;
       flex-direction: column;
       align-items: center;
   }
   .encabezado {
       width: 100%;
       height: 180px;
       display: flex;
       flex-direction: column;
       align-items: center;
       background-size: cover;
       background-position: center;
       background-repeat: no-repeat;
       border-radius: 20px 20px 0 0;
       margin-top: 15px;
       position: relative;
   }
   .perfil {
       width: 95%;
       height: 100px;
       position: absolute;
       bottom: -40%;
       display:flex;
       justify-content: space-between;
       align-items: center;
   }
   
   .perfil .foto img { 
       width: 100px;
       height: 100%;
       border: 5px solid #fff;
       border-radius: 50%;
   }
   .perfil .nombre{
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center;
       margin-top: 30px;
   }
   .nombre  {
       width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-family: "lobster";
       	color: #484848;
       	font-size: 0.9rem; 
   }
   
   .perfil .nombre p {
       font-family: "Poppins";
       margin-top: 0px;
	   color: #484848;
   }
   /* contacto */
   .contacto {
       width: 100%;
       height: 100px;
       position: relative;
       display: flex;
       margin-top: 100px;
   }
   .contacto .redes {
       width: 100%;
       display: flex;
       justify-content: space-evenly;
    
   }
   .phone, .email, .web {
       width: 70px;
       height: 70px;
       border-radius: 50%;
       display: flex;
       justify-content: center;
       align-items: center;
   }
   .phone, .email, .web a  {
       text-decoration: none;
   }
   .phone i, .email i, .web i {
       color: #fff;
   }
   
   /* informacion */
   .informacion {
       width: 100%;
       height: 100px;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: flex-start;
       gap: 12px;
       font-family: "Poppins";
       font-size: 1rem;
       margin-top: 20px;
       margin-bottom: 20px;
   }
   .informacion .info {
     display: flex;
     align-items: center;
     gap: 10px;
	 color:#484848;
   }
   .informacion .info i {
     font-size: 1rem;
	 color:#484848;
   }
   .informacion .info i p {
     font-size: 1rem;
	 color:#484848;
   }
   /* Redes sociales */
   .title-redes {
       width: 50%;
       height: 40px;
       display: flex;
       justify-content: center;
       align-items: center;
       background-color: #484848;
       color: white;
       font-family: white;
       margin-top: 15px;
       margin-bottom: 15px;
	   font-family: "Poppins";
   }
   .redes_sociales {
       width: 100%;
       height: 100px;
       display: flex;
       justify-content: space-evenly;
       align-items: center;
       margin-top: 20px;
       margin-bottom:20px;
   }
   .redes_sociales .icon_redes {
       width: 60px;
       height: 60px;
       border-radius: 50%;
       display: flex;
       justify-content: center;
       align-items: center;
       background-color:  #484848;
   }
   .redes_sociales .icon_redes i {
      
   }
   /* botones --------*/
   .botones {
       width: 75%;
       display: flex;
       flex-direction: row;
       justify-content:space-evenly;
       align-items: center;
       margin-bottom: 30px;
       align-items: center;
   }
   .botones div {
       display: flex;
       flex-direction: column;
       justify-content: center;
       align-items: center;
      
   }
   .boton_compartir {
       text-decoration: none;
       text-align: center;
       font-family: Poppins;
       font-size: 1rem;
       font-weight:300;
       color: black;
       border-left: 1px solid black;
       width: 100%;
       display: flex;
       flex-direction: column;
   
   }
   .boton_guardar {
       text-decoration: none;
       text-align: center;
       font-family: Poppins;
       font-size: 1rem;
       font-weight:300;
       color: black;
       border-left: 1px solid black;
       width: 100%;
       display: flex;
       flex-direction: column;
       justify-items: center;
       align-items: center;
   }
 
    
   </style>
